<!DOCTYPE html>
<html lang="ru">
    <head>
        <title>JavaScript</title>
        
        <meta charset="utf-8">
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <script>
            /*
            let flag = true;
            //console.log(flag);
            setTimeout(function(){
                flag = false;
            }, 1000);
            */
            
            let promise = new Promise(function(resolve, reject){
                let flag;
                setTimeout(function(){
                    flag = !!Math.floor(Math.random() * 2);
                    if (flag) {
                        resolve("done!")
                    } else {
                        reject("error!")
                    }
                }, 1000);
            });
            
            /*
            promise.then(function(result){console.log(result)}, function(error){
                        console.error(error);
                        return Promise.reject();
                    })
                   .then(function(){console.log('выполнено')}, function(){console.log('не выполнено')})
                   .then(function(){console.log('третий then')}, function(){console.log('третий error')});
            */
            
            promise.then(function(result){console.log(result)})
                   .then(function(){console.log('выполнено')})
                   .then(function(){console.log('третий then')})
                   .catch(function(error){console.error(error)})
                   .finally(function(){console.log('обработка окончена')});
            
            /*
            promise.then(function(result){console.log(result)}, function(error){console.error(error)});
            promise.then(function(){console.log('выполнено')}, function(){console.log('не выполнено')});
            promise.then(function(){console.log('третий then')}, function(){console.log('третий error')});
            promise.catch(function(error){console.error(error)});
            promise.finally(function(){console.log('обработка окончена')});
            */
            
            
            
        </script>
    </head>
    
    <body></body>
</html>